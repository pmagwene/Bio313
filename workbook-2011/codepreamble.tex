

\usepackage[svgnames]{xcolor}

\usepackage[listings]{tcolorbox}
\usepackage{listings}
\lstMakeShortInline|

\definecolor{boxfill}{gray}{0.95}
\definecolor{boxframe}{named}{gray}

\lstset{%
aboveskip=1ex,
xleftmargin=0.5em,
xrightmargin=3pt,
breaklines=true,
basicstyle={\ttfamily \small},
breakatwhitespace=false,
showspaces=false,
showstringspaces=false
showtabs=false,
%keywordstyle=\color{DarkBlue}\bfseries,
stringstyle=\color{DarkRed},
%commentstyle=\color{Olive}\itshape,
commentstyle=\color{gray!90}\itshape,
}



%\definecolor{boxframe}{rgb}{0.6,0,0}
%\definecolor{boxfill}{rgb}{1,.95,.95}



\lstnewenvironment{codeblock}[1][]
{\lstset{frame=single,
backgroundcolor=\color{boxfill},
rulecolor=\color{boxframe},
framesep=2.5pt,
framerule=0.5pt,
language=#1}}
{}

\lstnewenvironment{noindentcodeblock}[1][]
{\lstset{frame=single,
backgroundcolor=\color{boxfill},
rulecolor=\color{boxframe},
framesep=2.5pt,
framerule=0.5pt,
breakindent=0pt,
breakautoindent=false,
language=#1}}
{}

\lstnewenvironment{Code}
{}{}

\lstnewenvironment{python}
{\lstset{language=python,backgroundcolor=\color{boxfill}}}
{}
\lstnewenvironment{bash}
{\lstset{language=bash,backgroundcolor=\color{boxfill}}}
{}
\lstnewenvironment{R}
{\lstset{language=R,backgroundcolor=\color{boxfill}}}
{}



% Assignment box environment

\usepackage{fancybox}
\usepackage{fancyvrb}

%\tcbset{before={\par\medskip\pagebreak[0]\noindent},
%        after={\par\medskip}}

\usepackage{chngcntr}  % provides \counterwithin
% \newcounter{assign_num}
% \counterwithin*{assign_num}{chapter}
% \setcounter{assign_num}{1}
% \newenvironment{assignment}{%
% \tcolorbox[colback=red!5,colframe=red!75!black,fonttitle=\sffamily\bfseries,title={Assignment \thechapter.\arabic{assign_num}\stepcounter{assign_num}}]}%
% {\endtcolorbox}

\newcounter{assignnum}
\counterwithin{assignnum}{chapter}
\setcounter{assignnum}{1}
\newenvironment{assignment}{%
\tcolorbox[colback=red!5,colframe=red!75!black,fonttitle=\sffamily\bfseries,title={Assignment \stepcounter{assignnum}\theassignnum}]}%
{\endtcolorbox}


% \newenvironment{assignment}%
% {\begin{Sbox}\begin{minipage}{0.95\columnwidth}%
% \textbf{Assignment \arabic{assign_num}\stepcounter{assign_num}}:}% 
% {\end{minipage}\end{Sbox}\shadowbox{\TheSbox}}
