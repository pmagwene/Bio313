

\lstMakeShortInline|

\definecolor{boxfill}{gray}{0.975}
\definecolor{boxframe}{named}{gray}

\lstset{%
aboveskip=1ex,
xleftmargin=0.25em,
xrightmargin=0.25em,
breaklines=true,
basicstyle={\ttfamily \small},
breakatwhitespace=false,
showspaces=false,
showstringspaces=false,
showtabs=false,
%keywordstyle=\color{DarkBlue}\bfseries,
%stringstyle=\color{DarkRed},
%commentstyle=\color{Olive}\itshape,
commentstyle=\color{gray!95}\itshape,
upquote=true,
}


\lstnewenvironment{codeblock}[1][]
{\lstset{frame=single,
backgroundcolor=\color{boxfill},
rulecolor=\color{boxframe},
framesep=2.5pt,
framerule=0.5pt,
language=#1}}
{}

\lstnewenvironment{noindentcodeblock}[1][]
{\lstset{frame=single,
backgroundcolor=\color{boxfill},
rulecolor=\color{boxframe},
framesep=2.5pt,
framerule=0.5pt,
breakindent=0pt,
breakautoindent=false,
language=#1}}
{}

\lstnewenvironment{tinycode}[1][]
{\lstset{backgroundcolor=\color{boxfill},
basicstyle={\ttfamily \footnotesize},
language=#1}}
{}


\lstnewenvironment{code}
{\lstset{backgroundcolor=\color{boxfill}}}
{}

\lstnewenvironment{python}
{\lstset{language=python,backgroundcolor=\color{boxfill}}}
{}
\lstnewenvironment{bash}
{\lstset{language=bash,backgroundcolor=\color{boxfill}}}
{}
\lstnewenvironment{R}
{\lstset{language=R,backgroundcolor=\color{boxfill},upquote=true}}
{}



% Assignment box environment

\usepackage{chngcntr}  % provides \counterwithin
\newcounter{assignnum}
\counterwithin{assignnum}{chapter}
\setcounter{assignnum}{1}
\newenvironment{assignment}{%
\tcolorbox[colback=DarkRed!5,colframe=DarkRed!50,fonttitle=\sffamily\bfseries,title={Assignment \stepcounter{assignnum}\theassignnum},fontupper=\small,fontlower=\small,boxrule=0.1pt,left=2mm,right=2mm]}%
{\endtcolorbox}
